(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ContactItem"],{"36d0":function(t,a,e){"use strict";var c=e("9539"),n=e.n(c);n.a},6188:function(t,a,e){"use strict";e.r(a);var c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container mw768"},[e("bulma-input",{attrs:{label:"",placeholder:"Полное имя",iconLeft:"user"},model:{value:t.contact.name,callback:function(a){t.$set(t.contact,"name",a)},expression:"contact.name"}}),e("bulma-select",{attrs:{list:t.companys,"selected-item":t.contact.company,label:"Организация","item-name":"company",iconLeft:"building"},on:{select:t.onSelect}}),e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-half"},[e("bulma-select",{attrs:{list:t.posts,"selected-item":t.contact.post,label:"Должность","item-name":"post",iconLeft:"tag"},on:{select:t.onSelect}})],1),e("div",{staticClass:"column is-half"},[e("bulma-select",{attrs:{list:t.departments,"selected-item":t.contact.department,label:"Отдел","item-name":"department",iconLeft:"tag"},on:{select:t.onSelect}})],1)]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-half"},[e("bulma-select",{attrs:{list:t.post_gos,"selected-item":t.contact.post_go,label:"Должность ГО","item-name":"post_go",iconLeft:"tag"},on:{select:t.onSelect}})],1),e("div",{staticClass:"column is-half"},[e("bulma-select",{attrs:{list:t.ranks,"selected-item":t.contact.rank,label:"Звание","item-name":"rank",iconLeft:"tag"},on:{select:t.onSelect}})],1)]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-one-third"},[e("bulma-date",{attrs:{label:"Дата рождения"},model:{value:t.contact.birthday,callback:function(a){t.$set(t.contact,"birthday",a)},expression:"contact.birthday"}})],1)]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Электронный адрес")]),t._l(t.contact.emails,function(a,c){return e("bulma-input",{key:c,attrs:{type:"email",placeholder:"Электронный адрес",iconLeft:"envelope",autocomplete:"email",pattern:"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$",error:"Неправильный email"},on:{blur:function(a){return t.onBlur("emails")}},model:{value:t.contact.emails[c],callback:function(a){t.$set(t.contact.emails,c,a)},expression:"contact.emails[index]"}})})],2)]),e("div",{staticClass:"column"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Телефон")]),t._l(t.contact.phones,function(a,c){return e("bulma-input",{key:c,attrs:{type:"tel",placeholder:"Телефон",iconLeft:"phone",autocomplete:"tel"},on:{blur:function(a){return t.onBlur("phones")}},model:{value:t.contact.phones[c],callback:function(a){t.$set(t.contact.phones,c,a)},expression:"contact.phones[index]"}})})],2)]),e("div",{staticClass:"column"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Факс")]),t._l(t.contact.faxes,function(a,c){return e("bulma-input",{key:c,attrs:{type:"tel",placeholder:"Факс",iconLeft:"fax",autocomplete:"tel"},on:{blur:function(a){return t.onBlur("faxes")}},model:{value:t.contact.faxes[c],callback:function(a){t.$set(t.contact.faxes,c,a)},expression:"contact.faxes[index]"}})})],2)])]),t.contact.practices?e("div",{key:"practices",staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Тренировки")]),t._l(t.contact.practices,function(t){return e("bulma-input",{key:t.id,attrs:{hyper:"/practice/"+t.id,readonly:"",value:t.date_str+" - "+t.kind.name+" - "+t.topic,iconLeft:"graduation-cap"}})})],2):t._e(),e("bulma-input",{attrs:{label:"Заметка",placeholder:"Заметка",iconLeft:"comment"},model:{value:t.contact.note,callback:function(a){t.$set(t.contact,"note",a)},expression:"contact.note"}}),e("div",{staticClass:"field is-grouped is-grouped-centered"},[e("div",{staticClass:"control"},[e("bulma-button",{attrs:{text:"Сохранить",color:"primary"},on:{click:t.submit}})],1),e("div",{staticClass:"control"},[e("bulma-button",{attrs:{text:"Закрыть"},on:{click:t.close}})],1),e("div",{staticClass:"control"},[e("bulma-button",{attrs:{text:"Удалить",color:"danger",onclick:"return confirm('Вы действительно хотите удалить эту запись?');"}})],1)])],1)},n=[],s=e("e653"),l=e("2bd6"),o=e("e04f"),i=e("ce02"),r=e("7234"),u={id:0,name:"",birthday:"",company:r["a"],company_id:0,post:r["a"],post_id:0,department:r["a"],department_id:0,post_go:r["a"],post_go_id:0,rank:r["a"],rank_id:0,emails:[],phones:[],faxes:[],note:""},m=e("2af4"),d=e("0036"),p={name:"ContactItem",components:{"bulma-button":s["a"],"bulma-date":l["a"],"bulma-input":o["a"],"bulma-select":i["a"]},mixins:[m["a"],d["a"]],data:function(){return{title:"",contact:u,companys:[r["a"]],posts:[r["a"]],post_gos:[r["a"]],departments:[r["a"]],ranks:[r["a"]]}},mounted:function(){this.fetchItem("contact","Contact",["emails","phones","faxes"],["company","post","department","post_go","rank"],[])},methods:{onBlur:function(t){this.contact[t]=this.checkArray(this.contact[t])},onSelect:function(t,a){this.contact[a]=t,this.contact["".concat(a,"_id")]=t.id},submit:function(){this.submitItem("contact","Contact",["emails"],["phones","faxes"])},delete:function(){}}},b=p,f=(e("36d0"),e("2877")),h=Object(f["a"])(b,c,n,!1,null,"348ea848",null);a["default"]=h.exports},9539:function(t,a,e){}}]);
//# sourceMappingURL=ContactItem-legacy.784fa47b.js.map